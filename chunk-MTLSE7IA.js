import{q as V}from"./chunk-ME64WQKK.js";import{f as _,g as x,h as O,j as g,n as I}from"./chunk-ES6VLTAZ.js";import{Aa as d,Fa as c,H as P,L as A,M as b,Qa as l,R as w,Ra as i,S as M,Sa as o,Ta as m,Wa as L,Xa as T,Ya as k,ab as p,cb as v,eb as R,fb as a,gb as f,hb as E,nb as F,oa as s,ob as N}from"./chunk-6DBKFS3D.js";var h=class n{constructor(e){this.http=e}getDesignations(){return this.http.get("/api/ClientStrive/GetAllDesignation")}static \u0275fac=function(t){return new(t||n)(A(I))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};function G(n,e){n&1&&(i(0,"div",7)(1,"h3"),a(2,"Loading Designations..."),o(),i(3,"div",8)(4,"span",9),a(5,"Loading..."),o()()())}function B(n,e){if(n&1){let t=k();i(0,"div",11)(1,"div",12)(2,"div",13)(3,"h6",14),a(4),F(5,"uppercase"),o(),i(6,"span",15),a(7),o()(),i(8,"div",16)(9,"p",17),a(10," Role: "),i(11,"span",18),a(12),o()(),i(13,"p",19),a(14),o()(),i(15,"div",20)(16,"button",21),p("click",function(){let u=w(t).$implicit,C=v(2);return M(C.onViewDetails(u))}),m(17,"i",22),a(18," View "),o(),i(19,"button",23),p("click",function(){let u=w(t).$implicit,C=v(2);return M(C.onEdit(u))}),m(20,"i",24),a(21," Edit "),o()()()()}if(n&2){let t=e.$implicit,r=e.index;s(4),f(N(5,4,t.designation)),s(3),E("ID: ",t.designationId||r+1),s(5),f(t.role||"N/A"),s(2),E(" ",t.description||"No detailed description available."," ")}}function U(n,e){if(n&1&&(L(0),c(1,B,22,6,"div",10),T()),n&2){let t=v();s(),l("ngForOf",t.designationList)}}var D=class n{onEdit(e){throw new Error("Method not implemented.")}onViewDetails(e){throw new Error("Method not implemented.")}designationList=[];isLoader=!0;master=b(h);ngOnInit(){this.master.getDesignations().subscribe(e=>{console.log("API result:",e),console.log(e),console.log(e.data),this.designationList=e.data||[],this.isLoader=!1},e=>{console.error("API error:",e),this.isLoader=!1,alert("API error/network error")})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=d({type:n,selectors:[["app-designation"]],decls:9,vars:2,consts:[[1,"row","mb-4"],[1,"col-12","text-center"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp","alt","Employee Management System Visual",1,"img-fluid",2,"max-height","200px","object-fit","cover"],[1,"mt-3","text-primary"],[1,"row"],["class","col-12 text-center py-5",4,"ngIf"],[4,"ngIf"],[1,"col-12","text-center","py-5"],["role","status",1,"spinner-border","text-info","mx-2",2,"width","3rem","height","3rem"],[1,"visually-hidden"],["class","col-12 col-sm-6 col-md-4 col-lg-3 mb-4",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-4"],[1,"card","h-100","shadow-sm","border-0","rounded-lg","designation-card"],[1,"card-header","bg-dark","text-white","py-2","d-flex","justify-content-between","align-items-center"],[1,"mb-0","fw-bold","text-truncate"],[1,"badge","rounded-pill","bg-info","text-dark"],[1,"card-body","d-flex","flex-column"],[1,"card-subtitle","text-muted","mb-2","small"],[1,"fw-semibold"],[1,"card-text","text-secondary","description-truncate","flex-grow-1"],[1,"card-footer","bg-light","border-0","d-flex","justify-content-center"],[1,"btn","btn-sm","btn-outline-primary","mx-1",3,"click"],[1,"bi","bi-eye"],[1,"btn","btn-sm","btn-outline-secondary","mx-1",3,"click"],[1,"bi","bi-pencil"]],template:function(t,r){t&1&&(i(0,"div",0)(1,"div",1),m(2,"img",2),i(3,"h3",3),a(4,"Department Designations"),o(),m(5,"hr"),o()(),i(6,"div",4),c(7,G,6,0,"div",5)(8,U,2,1,"ng-container",6),o()),t&2&&(s(7),l("ngIf",r.isLoader),s(),l("ngIf",!r.isLoader&&r.designationList&&r.designationList.length>0))},dependencies:[g,_,x,O],encapsulation:2})};function q(n,e){if(n&1&&(i(0,"tr")(1,"td"),a(2),o(),i(3,"td"),a(4),o()()),n&2){let t=e.$implicit,r=e.index;s(2),f(r+1),s(2),f(t.role)}}var y=class n{roleList=[];http=b(I);ngOnInit(){console.log("Roles component loaded"),this.getAllRoles()}getAllRoles(){this.http.get("/api/ClientStrive//GetAllRoles").subscribe({next:e=>{this.roleList=e.data,console.log("API result:",this.roleList)},error:e=>{console.error("Roles API error:",e),alert("Failed to load roles.")}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=d({type:n,selectors:[["app-roles"]],decls:11,vars:1,consts:[[1,"row"],[1,"col-12"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"]],template:function(t,r){t&1&&(i(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th"),a(6,"Sr No"),o(),i(7,"th"),a(8,"Role Name"),o()()(),i(9,"tbody"),c(10,q,5,2,"tr",3),o()()()()),t&2&&(s(10),l("ngForOf",r.roleList))},dependencies:[V,g,_],encapsulation:2})};function z(n,e){n&1&&(i(0,"div",6),m(1,"app-roles"),o())}function J(n,e){n&1&&(i(0,"div",6),m(1,"app-designation"),o())}var $=class n{currentComponent="Roles";changeTab(e){this.currentComponent=e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=d({type:n,selectors:[["app-master"]],decls:10,vars:10,consts:[[1,"row"],[1,"col-12","text-center"],[1,"btn-group"],["type","button",1,"btn",3,"click"],[1,"row","pt-5"],["class","col-12",4,"ngIf"],[1,"col-12"]],template:function(t,r){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),p("click",function(){return r.changeTab("Roles")}),a(4," Roles "),o(),i(5,"button",3),p("click",function(){return r.changeTab("Designation")}),a(6," Designation "),o()()()(),i(7,"div",4),c(8,z,2,0,"div",5)(9,J,2,0,"div",5),o()),t&2&&(s(3),R("btn-success",r.currentComponent==="Roles")("btn-primary",r.currentComponent!=="Roles"),s(2),R("btn-success",r.currentComponent==="Designation")("btn-primary",r.currentComponent!=="Designation"),s(3),l("ngIf",r.currentComponent==="Roles"),s(),l("ngIf",r.currentComponent==="Designation"))},dependencies:[D,y,g,x],encapsulation:2})};export{$ as Master};
