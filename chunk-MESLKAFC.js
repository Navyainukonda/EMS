import{a as Y,b as Z}from"./chunk-ADZYPTPI.js";import{a as U,c as G,d as J,f as z,h as H,i as K,p as Q,q as X}from"./chunk-ME64WQKK.js";import{h as R,i as q}from"./chunk-ES6VLTAZ.js";import{Aa as _,La as w,Ma as h,Na as V,Oa as W,Pa as P,Qa as v,R as c,Ra as i,S as p,Sa as n,Ta as T,Ua as B,Va as I,X as j,Ya as N,Za as L,ab as f,bb as k,cb as S,db as E,fb as o,gb as y,hb as D,jb as g,kb as C,lb as u,nb as O,oa as r,ob as A,pb as F,wa as x}from"./chunk-6DBKFS3D.js";var b=class{clientId=0;contactPersonName="";companyName="";address="";city="";pincode="";state="";employeeStrength=0;gstNo="";contactNo="";regNo=""};var M=class s{btnText="";btnClass="";onBtnClicked=new j;onClick(){this.onBtnClicked.emit("admin")}static \u0275fac=function(l){return new(l||s)};static \u0275cmp=_({type:s,selectors:[["app-my-button"]],inputs:{btnText:"btnText",btnClass:"btnClass"},outputs:{onBtnClicked:"onBtnClicked"},decls:2,vars:2,consts:[[3,"click","className"]],template:function(l,e){l&1&&(B(0,"button",0),k("click",function(){return e.onClick()}),o(1),I()),l&2&&(L("className",e.btnClass),r(),y(e.btnText))},encapsulation:2})};function ne(s,d){if(s&1){let l=N();i(0,"tr")(1,"td"),o(2),n(),i(3,"td"),o(4),O(5,"uppercase"),n(),i(6,"td"),o(7),n(),i(8,"td"),o(9),n(),i(10,"td"),o(11),n(),i(12,"td")(13,"button",26),f("click",function(){let a=c(l).$implicit,m=S();return p(m.onEdit(a))}),o(14,"Edit"),n(),i(15,"button",27),f("click",function(){let a=c(l).$implicit,m=S();return p(m.onDeleteClient(a.clientId))}),o(16," Delete"),n()()()}if(s&2){let l=d.$implicit,e=d.$index;r(2),y(e+1),r(2),y(A(5,5,l.companyName)),r(3),y(l.contactPersonName),r(2),y(l.contactNo),r(2),y(l.city)}}function ie(s,d){s&1&&(i(0,"span"),o(1,"This is required"),n())}function oe(s,d){if(s&1&&(i(0,"div",12),w(1,ie,2,0,"span"),n()),s&2){S();let l=E(37);r(),h(l.errors!=null&&l.errors.required?1:-1)}}var $=class s{constructor(d){this.clientService=d}currentDate=new Date;clientObj=new b;clientList=[];isLoading=!1;userList$;ngOnInit(){this.loadClients(),this.userList$=this.clientService.getAllUser()}loadClients(){this.isLoading=!0,this.clientService.getAllClients().subscribe({next:d=>{this.clientList=d.data||[],this.isLoading=!1},error:()=>{alert("Error fetching clients"),this.isLoading=!1}})}onSaveClient(d){this.clientService.addUpdate(this.clientObj).subscribe({next:l=>{l.result?(alert("Client saved successfully"),this.clientObj=new b,this.loadClients()):alert(l.message)},error:()=>alert("Error saving client")})}onEdit(d){this.clientObj=d}onDeleteClient(d){this.clientService.deleteClientById(d).subscribe({next:()=>{alert("Client deleted successfully"),this.loadClients()},error:()=>alert("Error deleting client")})}static \u0275fac=function(l){return new(l||s)(x(Z))};static \u0275cmp=_({type:s,selectors:[["app-client"]],decls:81,vars:19,consts:[["form","ngForm"],["personName","ngModel"],[3,"alertType","message"],[1,"row"],[1,"col-8"],[1,"card"],[1,"card-header","bg-success"],[1,"card-body"],[1,"table","table-bordered"],[1,"col-4"],[1,"col-6"],["type","text","name","contactPersonName","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-danger"],["type","text","name","companyName",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","contactNo",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","city",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","state",1,"form-control",3,"ngModelChange","ngModel"],["name","address",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","pincode",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","employeeStrength",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","gstNo",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","regNo",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","pt-2"],[1,"col-6","text-center"],[1,"btn","btn-secondary"],[3,"onBtnClicked","btnClass","btnText"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(l,e){if(l&1){let a=N();T(0,"app-alert",2),i(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),o(5,"Client List"),n(),o(6),O(7,"date"),i(8,"div",7)(9,"table",8)(10,"thead")(11,"tr")(12,"th"),o(13,"Sr No."),n(),i(14,"th"),o(15,"Company Name"),n(),i(16,"th"),o(17,"Person Name"),n(),i(18,"th"),o(19,"Contact No"),n(),i(20,"th"),o(21,"City"),n()()(),i(22,"tbody"),W(23,ne,17,7,"tr",null,V),n()()()()(),i(25,"div",9)(26,"div",5)(27,"div",6),o(28,"New Client"),n(),i(29,"div",7)(30,"form",null,0)(32,"div",3)(33,"div",10)(34,"label"),o(35,"Person Name"),n(),i(36,"input",11,1),u("ngModelChange",function(t){return c(a),C(e.clientObj.contactPersonName,t)||(e.clientObj.contactPersonName=t),p(t)}),n(),w(38,oe,2,1,"div",12),n(),i(39,"div",10)(40,"label"),o(41,"Company Name"),n(),i(42,"input",13),u("ngModelChange",function(t){return c(a),C(e.clientObj.companyName,t)||(e.clientObj.companyName=t),p(t)}),n()(),i(43,"div",10)(44,"label"),o(45,"Contact No."),n(),i(46,"input",14),u("ngModelChange",function(t){return c(a),C(e.clientObj.contactNo,t)||(e.clientObj.contactNo=t),p(t)}),n()(),i(47,"div",10)(48,"label"),o(49,"City"),n(),i(50,"input",15),u("ngModelChange",function(t){return c(a),C(e.clientObj.city,t)||(e.clientObj.city=t),p(t)}),n()(),i(51,"div",10)(52,"label"),o(53,"State"),n(),i(54,"input",16),u("ngModelChange",function(t){return c(a),C(e.clientObj.state,t)||(e.clientObj.state=t),p(t)}),n()(),i(55,"div",10)(56,"label"),o(57,"Address"),n(),i(58,"textarea",17),u("ngModelChange",function(t){return c(a),C(e.clientObj.address,t)||(e.clientObj.address=t),p(t)}),n()(),i(59,"div",10)(60,"label"),o(61,"Pincode"),n(),i(62,"input",18),u("ngModelChange",function(t){return c(a),C(e.clientObj.pincode,t)||(e.clientObj.pincode=t),p(t)}),n()(),i(63,"div",10)(64,"label"),o(65,"Employee Strength"),n(),i(66,"input",19),u("ngModelChange",function(t){return c(a),C(e.clientObj.employeeStrength,t)||(e.clientObj.employeeStrength=t),p(t)}),n()(),i(67,"div",10)(68,"label"),o(69,"Gst No"),n(),i(70,"input",20),u("ngModelChange",function(t){return c(a),C(e.clientObj.gstNo,t)||(e.clientObj.gstNo=t),p(t)}),n()(),i(71,"div",10)(72,"label"),o(73,"Reg No"),n(),i(74,"input",21),u("ngModelChange",function(t){return c(a),C(e.clientObj.regNo,t)||(e.clientObj.regNo=t),p(t)}),n()()(),i(75,"div",22)(76,"div",23)(77,"button",24),o(78,"Reset"),n()(),i(79,"div",23)(80,"app-my-button",25),f("onBtnClicked",function(t){return c(a),p(e.onSaveClient(t))}),n()()()()()()()()}if(l&2){let a=E(37);v("alertType","Success")("message","Welcome to project"),r(6),D(" Client List -",F(7,16,e.currentDate,"dd-MMM-yyyy")," "),r(17),P(e.clientList),r(13),g("ngModel",e.clientObj.contactPersonName),r(2),h(a.touched?38:-1),r(4),g("ngModel",e.clientObj.companyName),r(4),g("ngModel",e.clientObj.contactNo),r(4),g("ngModel",e.clientObj.city),r(4),g("ngModel",e.clientObj.state),r(4),g("ngModel",e.clientObj.address),r(4),g("ngModel",e.clientObj.pincode),r(4),g("ngModel",e.clientObj.employeeStrength),r(4),g("ngModel",e.clientObj.gstNo),r(4),g("ngModel",e.clientObj.regNo),r(6),v("btnClass","btn btn-success")("btnText",e.clientObj.clientId!=0?"Update Client":"Save Client")}},dependencies:[X,K,U,G,J,Q,H,z,Y,M,R,q],encapsulation:2})};export{$ as ClientComponent};
